<nav class="navbar">
  <div class="navbar-container">
    <div class="brand">
      <div class="brand-logo" aria-hidden="true">
        <!-- simple SVG logo -->
        <svg width="28" height="28" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="svg-logo">
          <rect x="2" y="6" width="4" height="12" rx="1" fill="currentColor" opacity="0.12"/>
          <rect x="8" y="4" width="4" height="14" rx="1" fill="currentColor" opacity="0.18"/>
          <rect x="14" y="2" width="4" height="16" rx="1" fill="currentColor" opacity="0.24"/>
        </svg>
      </div>
      <div class="brand-text">
        <span class="title">Pay Jobber - Adelanto Ingresos - Panel administrativo</span>
      </div>
    </div>

    <ul class="menu" *ngIf="isLoggedIn(); else loginMenu">
      <li>
        <a routerLink="/retiros/politicas-historial" class="menu-link" title="Log politica de aceptación">
          <span class="icon" aria-hidden="true">
            <!-- Policy/Document SVG -->
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round" fill="none"/>
              <path d="M14 2v6h6" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M8 13h8" stroke="currentColor" stroke-width="1.4" stroke-linecap="round"/>
              <path d="M8 17h8" stroke="currentColor" stroke-width="1.4" stroke-linecap="round"/>
            </svg>
          </span>
          <span>Log politica de aceptación</span>
        </a>
      </li>

      <li>
        <a routerLink="/retiros/carga-excel" class="menu-link" title="Cargar Excel">
          <span class="icon" aria-hidden="true">
            <!-- Upload SVG -->
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M12 3v10" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M8 7l4-4 4 4" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M21 21H3" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </span>
          <span>Cargar Excel</span>
        </a>
      </li>

      <li>
        <a routerLink="/retiros/log" class="menu-link" title="Revisar log">
          <span class="icon" aria-hidden="true">
            <!-- Log / clipboard SVG -->
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <rect x="8" y="3" width="8" height="4" rx="1" stroke="currentColor" stroke-width="1.6" fill="none"/>
              <path d="M6 7h12v13a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V7z" stroke="currentColor" stroke-width="1.6" fill="none"/>
              <path d="M9 12h6" stroke="currentColor" stroke-width="1.2" stroke-linecap="round"/>
            </svg>
          </span>
          <span>Revisar Log</span>
        </a>
      </li>

      <li class="user-section">
        <button class="user-btn" aria-haspopup="false" title="Información de usuario">
          <span class="avatar" aria-hidden="true">
            {{ username ? (username[0] | uppercase) : 'U' }}
          </span>
          <span class="user-info">
            <span class="username">{{ username }}</span>
            <span class="role">{{ userRole }}</span>
          </span>
        </button>
      </li>

      <li>
        <button class="logout-btn" (click)="logout()" title="Cerrar sesión">
          <span class="icon" aria-hidden="true">
            <!-- Logout SVG -->
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M16 17l5-5-5-5" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M21 12H9" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M13 19H6a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1h7" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </span>
          <span class="text">Cerrar sesión</span>
        </button>
      </li>
    </ul>

    <ng-template #loginMenu>
      <ul class="login-menu">
        <li>
          <a routerLink="/auth/login" class="menu-link login-link">
            <span class="icon" aria-hidden="true">
              <!-- Key SVG -->
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M21 10a7 7 0 1 0-2.03 4.95L22 20l-3-1-1 0" stroke="currentColor" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
            </span>
            <span>Iniciar sesión</span>
          </a>
        </li>
      </ul>
    </ng-template>
  </div>
</nav>
