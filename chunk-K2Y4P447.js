import{a as T,b as E,c as L,d as I,e as z,f as A,g as N,k as W,l as j}from"./chunk-FP3ORZCT.js";import{A as f,D as _,E as y,F as a,J as n,K as o,L as M,N as h,O as x,R as s,S as p,U as m,V as c,W as u,Y as P,ga as v,ia as O,la as S,m as b,t as w,ta as k,u as C,ya as F,z as r}from"./chunk-ANQ2OVV2.js";function V(d,B){if(d&1&&(n(0,"p",25),s(1),o()),d&2){let t=x();a("ngClass",t.messageType),r(),p(t.message)}}var R=(()=>{class d{constructor(t,l){this.authService=t,this.router=l,this.username="",this.password="",this.remember=!1,this.showPassword=!1,this.message="",this.messageType="",this.loading=!1}toggleShowPassword(){this.showPassword=!this.showPassword}login(){if(!this.username||!this.password){this.message="Debe ingresar usuario y contrase\xF1a",this.messageType="error";return}this.loading=!0,this.message="Autenticando...",this.messageType="",this.authService.login({username:this.username,password:this.password}).subscribe({next:t=>{this.authService.saveToken(t),this.message=`\xA1Bienvenido ${t.username}! Redirigiendo...`,this.messageType="success",this.loading=!1,setTimeout(()=>{t.role==="admin"?this.router.navigate(["/retiros"]):this.router.navigate(["/dashboard"])},900)},error:t=>{this.loading=!1,console.error("Error en login:",t),t&&t.status===401?this.message="Usuario o contrase\xF1a incorrectos":t&&t.status===0?this.message="No se pudo conectar al servidor. Verifica la URL de la API.":this.message="Error al autenticarse. Intenta de nuevo.",this.messageType="error"}})}static{this.\u0275fac=function(l){return new(l||d)(f(F),f(k))}}static{this.\u0275cmp=b({type:d,selectors:[["app-login"]],standalone:!0,features:[P],decls:35,vars:13,consts:[[1,"page"],["role","region","aria-label","Ingreso Pay Jobber",1,"card"],[1,"card-brand"],["aria-hidden","true",1,"logo"],["width","32","height","32","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg",1,"logo-svg"],["x","2","y","6","width","20","height","12","rx","2","fill","rgba(255,255,255,0.12)"],["cx","12","cy","12","r","3.2","stroke","white","stroke-width","1.2","fill","rgba(255,255,255,0.02)"],["d","M11 11.2c0-.66.9-.66.9 0 .1.66-.9.66-.9 0z","fill","white","opacity","0.95"],["d","M7 9.5v5","stroke","white","stroke-width","1.2","stroke-linecap","round","stroke-linejoin","round"],["d","M17 9.5v5","stroke","white","stroke-width","1.2","stroke-linecap","round","stroke-linejoin","round"],["d","M8 7l2-2 2 2","stroke","white","stroke-width","1.2","stroke-linecap","round","stroke-linejoin","round"],[1,"brand-text"],["autocomplete","on","novalidate","",1,"form",3,"ngSubmit"],[1,"form-group"],["for","username"],["id","username","type","text","name","username","required","","placeholder","Ingresa tu usuario",3,"ngModelChange","ngModel","disabled"],["for","password"],[1,"password-wrapper"],["id","password","name","password","required","","placeholder","Ingresa tu contrase\xF1a",3,"ngModelChange","type","ngModel","disabled"],["type","button",1,"toggle",3,"click","disabled"],[1,"form-actions"],[1,"remember"],["type","checkbox","name","remember",3,"ngModelChange","ngModel","disabled"],["type","submit",1,"btn-primary",3,"disabled"],["class","message",3,"ngClass",4,"ngIf"],[1,"message",3,"ngClass"]],template:function(l,e){l&1&&(n(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),w(),n(4,"svg",4),M(5,"rect",5)(6,"circle",6)(7,"path",7)(8,"path",8)(9,"path",9)(10,"path",10),o()(),C(),n(11,"div",11)(12,"h1"),s(13,"Pay Jobber"),o(),n(14,"p"),s(15,"Acceso de Administraci\xF3n"),o()()(),n(16,"form",12),h("ngSubmit",function(){return e.login()}),n(17,"div",13)(18,"label",14),s(19,"Usuario"),o(),n(20,"input",15),u("ngModelChange",function(i){return c(e.username,i)||(e.username=i),i}),o()(),n(21,"div",13)(22,"label",16),s(23,"Contrase\xF1a"),o(),n(24,"div",17)(25,"input",18),u("ngModelChange",function(i){return c(e.password,i)||(e.password=i),i}),o(),n(26,"button",19),h("click",function(){return e.toggleShowPassword()}),s(27),o()()(),n(28,"div",20)(29,"label",21)(30,"input",22),u("ngModelChange",function(i){return c(e.remember,i)||(e.remember=i),i}),o(),s(31," Recu\xE9rdame "),o(),n(32,"button",23),s(33),o()()(),_(34,V,2,2,"p",24),o()()),l&2&&(r(20),m("ngModel",e.username),a("disabled",e.loading),r(5),a("type",e.showPassword?"text":"password"),m("ngModel",e.password),a("disabled",e.loading),r(),a("disabled",e.loading),y("aria-pressed",e.showPassword),r(),p(e.showPassword?"Ocultar":"Mostrar"),r(3),m("ngModel",e.remember),a("disabled",e.loading),r(2),a("disabled",e.loading),r(),p(e.loading?"Cargando...":"Ingresar"),r(),a("ngIf",e.message))},dependencies:[S,v,O,j,N,E,T,L,I,W,A,z],styles:[".page[_ngcontent-%COMP%]{min-height:100vh;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#f3f6fd,#fff 40%,#f7fafc);padding:2rem}.card[_ngcontent-%COMP%]{width:420px;background:#fff;border-radius:12px;box-shadow:0 10px 30px #14283c1f;padding:2rem;box-sizing:border-box;border:1px solid rgba(16,24,40,.04)}.card-brand[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;margin-bottom:1rem}.logo[_ngcontent-%COMP%]{width:56px;height:56px;border-radius:10px;background:linear-gradient(135deg,#1976d2,#42a5f5);color:#fff;display:flex;align-items:center;justify-content:center;font-weight:700;font-size:1.25rem;box-shadow:0 4px 10px #1976d233}.logo-svg[_ngcontent-%COMP%]{display:block;width:34px;height:34px;color:#fff}.brand-text[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-size:1rem;color:#0f1724;font-weight:700}.brand-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.85rem;color:#475569}.form[_ngcontent-%COMP%]{margin-top:1rem}.form-group[_ngcontent-%COMP%]{margin-bottom:.9rem;text-align:left}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-size:.85rem;color:#374151;margin-bottom:.35rem}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:.65rem .75rem;border-radius:8px;border:1px solid #e6e9ef;box-shadow:inset 0 1px #ffffff80;font-size:.95rem;color:#0f1724;box-sizing:border-box}.password-wrapper[_ngcontent-%COMP%]{display:flex;gap:8px}.password-wrapper[_ngcontent-%COMP%]   .toggle[_ngcontent-%COMP%]{background:transparent;border:none;color:#2563eb;font-weight:600;padding:0 .5rem;cursor:pointer;border-radius:6px}.password-wrapper[_ngcontent-%COMP%]   .toggle[_ngcontent-%COMP%]:disabled{color:#94a3b8;cursor:not-allowed}.form-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;margin-top:1rem;justify-content:space-between}.remember[_ngcontent-%COMP%]{font-size:.85rem;color:#475569;display:flex;align-items:center;gap:8px}.btn-primary[_ngcontent-%COMP%]{background:linear-gradient(180deg,#1976d2,#1565c0);color:#fff;border:none;padding:.65rem 1rem;border-radius:8px;cursor:pointer;min-width:140px;font-weight:600;box-shadow:0 6px 18px #1976d22e}.btn-primary[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.message[_ngcontent-%COMP%]{margin-top:1rem;padding:.6rem;border-radius:6px;font-size:.9rem}.message.error[_ngcontent-%COMP%]{color:#991b1b;background:#fff5f5;border:1px solid #fecaca}.message.success[_ngcontent-%COMP%]{color:#14532d;background:#ecfdf5;border:1px solid #bbf7d0}@media (max-width: 480px){.card[_ngcontent-%COMP%]{width:100%;padding:1.25rem}.form-actions[_ngcontent-%COMP%]{flex-direction:column-reverse;gap:8px;align-items:stretch}.btn-primary[_ngcontent-%COMP%]{width:100%}}"]})}}return d})();var Y=[{path:"login",component:R,title:"Login - Empresa Administradora"},{path:"",redirectTo:"login",pathMatch:"full"}];export{Y as AUTH_ROUTES};
